{"id":"MyYR","dependencies":[{"name":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/package.json","includedInParent":true,"mtime":1702782311118},{"name":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/package.json","includedInParent":true,"mtime":1702373009369},{"name":"@babel/runtime/helpers/extends","loc":{"line":1,"column":21,"index":21},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/ProgressBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/@babel/runtime/helpers/extends.js"},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":2,"column":28,"index":83},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/ProgressBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"react","loc":{"line":3,"column":45,"index":169},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/ProgressBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react/index.js"},{"name":"./utils","loc":{"line":4,"column":34,"index":212},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/ProgressBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.ProgressBarForwardRef=exports.ProgressBar=void 0;var e=i(require(\"@babel/runtime/helpers/extends\")),t=i(require(\"@babel/runtime/helpers/defineProperty\")),r=n(require(\"react\")),o=require(\"./utils\");function s(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function i(e){return e&&e.__esModule?e:{default:e}}class a extends r.Component{constructor(){super(...arguments),(0,t.default)(this,\"audio\",void 0),(0,t.default)(this,\"timeOnMouseMove\",0),(0,t.default)(this,\"hasAddedAudioEventListener\",!1),(0,t.default)(this,\"downloadProgressAnimationTimer\",void 0),(0,t.default)(this,\"state\",{isDraggingProgress:!1,currentTimePos:\"0%\",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),(0,t.default)(this,\"getCurrentProgress\",e=>{const{audio:t,progressBar:r}=this.props;if(0!==t.src.indexOf(\"blob:\")&&void 0===this.props.srcDuration&&(!t.src||!isFinite(t.currentTime)||!r.current))return{currentTime:0,currentTimePos:\"0%\"};const s=r.current.getBoundingClientRect(),n=s.width;let i=(0,o.getPosX)(e)-s.left;return i<0?i=0:i>n&&(i=n),{currentTime:this.getDuration()*i/n,currentTimePos:`${(i/n*100).toFixed(2)}%`}}),(0,t.default)(this,\"handleContextMenu\",e=>{e.preventDefault()}),(0,t.default)(this,\"handleMouseDownOrTouchStartProgressBar\",e=>{e.stopPropagation();const{currentTime:t,currentTimePos:r}=this.getCurrentProgress(e.nativeEvent);isFinite(t)&&(this.timeOnMouseMove=t,this.setState({isDraggingProgress:!0,currentTimePos:r}),e.nativeEvent instanceof MouseEvent?(window.addEventListener(\"mousemove\",this.handleWindowMouseOrTouchMove),window.addEventListener(\"mouseup\",this.handleWindowMouseOrTouchUp)):(window.addEventListener(\"touchmove\",this.handleWindowMouseOrTouchMove),window.addEventListener(\"touchend\",this.handleWindowMouseOrTouchUp)))}),(0,t.default)(this,\"handleWindowMouseOrTouchMove\",e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const t=window.getSelection();t&&\"Range\"===t.type&&t.empty();const{isDraggingProgress:r}=this.state;if(r){const{currentTime:t,currentTimePos:r}=this.getCurrentProgress(e);this.timeOnMouseMove=t,this.setState({currentTimePos:r})}}),(0,t.default)(this,\"handleWindowMouseOrTouchUp\",e=>{e.stopPropagation();const t=this.timeOnMouseMove,{audio:r,onChangeCurrentTimeError:o,onSeek:s}=this.props;if(s)this.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},()=>{s(r,t).then(()=>this.setState({waitingForSeekCallback:!1}),e=>{throw new Error(e)})});else{const e={isDraggingProgress:!1};r.readyState!==r.HAVE_NOTHING&&r.readyState!==r.HAVE_METADATA&&isFinite(t)?r.currentTime=t:(e.currentTimePos=\"0%\",o&&o()),this.setState(e)}e instanceof MouseEvent?(window.removeEventListener(\"mousemove\",this.handleWindowMouseOrTouchMove),window.removeEventListener(\"mouseup\",this.handleWindowMouseOrTouchUp)):(window.removeEventListener(\"touchmove\",this.handleWindowMouseOrTouchMove),window.removeEventListener(\"touchend\",this.handleWindowMouseOrTouchUp))}),(0,t.default)(this,\"handleAudioTimeUpdate\",(0,o.throttle)(e=>{const{isDraggingProgress:t}=this.state,r=e.target;if(t||!0===this.state.waitingForSeekCallback)return;const{currentTime:o}=r,s=this.getDuration();this.setState({currentTimePos:`${(o/s*100||0).toFixed(2)}%`})},this.props.progressUpdateInterval)),(0,t.default)(this,\"handleAudioDownloadProgressUpdate\",e=>{const t=e.target,r=this.getDuration(),o=[];for(let s=0;s<t.buffered.length;s++){const e=t.buffered.start(s),n=t.buffered.end(s);o.push({left:`${Math.round(100/r*e)||0}%`,width:`${Math.round(100/r*(n-e))||0}%`})}clearTimeout(this.downloadProgressAnimationTimer),this.setState({downloadProgressArr:o,hasDownloadProgressAnimation:!0}),this.downloadProgressAnimationTimer=setTimeout(()=>{this.setState({hasDownloadProgressAnimation:!1})},200)})}getDuration(){const{audio:e,srcDuration:t}=this.props;return void 0===t?e.duration:t}componentDidUpdate(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener(\"timeupdate\",this.handleAudioTimeUpdate),e.addEventListener(\"progress\",this.handleAudioDownloadProgressUpdate))}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener(\"timeupdate\",this.handleAudioTimeUpdate),this.audio.removeEventListener(\"progress\",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}render(){const{showDownloadProgress:e,showFilledProgress:t,progressBar:o,i18nProgressBar:s}=this.props,{currentTimePos:n,downloadProgressArr:i,hasDownloadProgressAnimation:a}=this.state;return r.default.createElement(\"div\",{className:\"rhap_progress-container\",ref:o,\"aria-label\":s,role:\"progressbar\",\"aria-valuemin\":0,\"aria-valuemax\":100,\"aria-valuenow\":Number(n.split(\"%\")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},r.default.createElement(\"div\",{className:`rhap_progress-bar ${e?\"rhap_progress-bar-show-download\":\"\"}`},r.default.createElement(\"div\",{className:\"rhap_progress-indicator\",style:{left:n}}),t&&r.default.createElement(\"div\",{className:\"rhap_progress-filled\",style:{width:n}}),e&&i.map((e,t)=>{let{left:o,width:s}=e;return r.default.createElement(\"div\",{key:t,className:\"rhap_download-progress\",style:{left:o,width:s,transitionDuration:a?\".2s\":\"0s\"}})})))}}exports.ProgressBar=a;const d=(t,o)=>r.default.createElement(a,(0,e.default)({},t,{progressBar:o}));exports.ProgressBarForwardRef=d;var u=exports.default=(0,r.forwardRef)(d);"},"sourceMaps":null,"error":null,"hash":"d08cf705de4d1fddeeaf2211532da4d2","cacheData":{"env":{}}}