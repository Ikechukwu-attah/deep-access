{"id":"lr6y","dependencies":[{"name":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/package.json","includedInParent":true,"mtime":1702782311118},{"name":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/package.json","includedInParent":true,"mtime":1702373009369},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/VolumeBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"react","loc":{"line":2,"column":44,"index":113},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/VolumeBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react/index.js"},{"name":"./utils","loc":{"line":3,"column":24,"index":146},"parent":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/VolumeBar.js","resolved":"/Users/macbookpro/Desktop/AlphaSoft/deep-access/node_modules/react-h5-audio-player/es/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"@babel/runtime/helpers/defineProperty\")),t=u(require(\"react\")),o=require(\"./utils\");function n(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=function(e){return e?o:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var u={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(\"default\"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var r=i?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(u,s,r):u[s]=e[s]}return u.default=e,o&&o.set(e,u),u}function i(e){return e&&e.__esModule?e:{default:e}}class s extends t.Component{constructor(){super(...arguments),(0,e.default)(this,\"audio\",void 0),(0,e.default)(this,\"hasAddedAudioEventListener\",!1),(0,e.default)(this,\"volumeBar\",(0,t.createRef)()),(0,e.default)(this,\"volumeAnimationTimer\",0),(0,e.default)(this,\"lastVolume\",this.props.volume),(0,e.default)(this,\"state\",{currentVolumePos:`${(this.lastVolume/1*100||0).toFixed(2)}%`,hasVolumeAnimation:!1,isDraggingVolume:!1}),(0,e.default)(this,\"getCurrentVolume\",e=>{const{audio:t}=this.props;if(!this.volumeBar.current)return{currentVolume:t.volume,currentVolumePos:this.state.currentVolumePos};const n=this.volumeBar.current.getBoundingClientRect(),u=n.width,i=(0,o.getPosX)(e)-n.left;let s,r;return i<0?(s=0,r=\"0%\"):i>n.width?(s=1,r=\"100%\"):(s=i/u,r=`${i/u*100}%`),{currentVolume:s,currentVolumePos:r}}),(0,e.default)(this,\"handleContextMenu\",e=>{e.preventDefault()}),(0,e.default)(this,\"handleClickVolumeButton\",()=>{const{audio:e}=this.props;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume}),(0,e.default)(this,\"handleVolumnControlMouseOrTouchDown\",e=>{e.stopPropagation();const{audio:t}=this.props,{currentVolume:o,currentVolumePos:n}=this.getCurrentVolume(e.nativeEvent);t.volume=o,this.setState({isDraggingVolume:!0,currentVolumePos:n}),e.nativeEvent instanceof MouseEvent?(window.addEventListener(\"mousemove\",this.handleWindowMouseOrTouchMove),window.addEventListener(\"mouseup\",this.handleWindowMouseOrTouchUp)):(window.addEventListener(\"touchmove\",this.handleWindowMouseOrTouchMove),window.addEventListener(\"touchend\",this.handleWindowMouseOrTouchUp))}),(0,e.default)(this,\"handleWindowMouseOrTouchMove\",e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const{audio:t}=this.props,o=window.getSelection();o&&\"Range\"===o.type&&o.empty();const{isDraggingVolume:n}=this.state;if(n){const{currentVolume:o,currentVolumePos:n}=this.getCurrentVolume(e);t.volume=o,this.setState({currentVolumePos:n})}}),(0,e.default)(this,\"handleWindowMouseOrTouchUp\",e=>{e.stopPropagation(),this.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener(\"mousemove\",this.handleWindowMouseOrTouchMove),window.removeEventListener(\"mouseup\",this.handleWindowMouseOrTouchUp)):(window.removeEventListener(\"touchmove\",this.handleWindowMouseOrTouchMove),window.removeEventListener(\"touchend\",this.handleWindowMouseOrTouchUp))}),(0,e.default)(this,\"handleAudioVolumeChange\",e=>{const{isDraggingVolume:t}=this.state,{volume:o}=e.target;(this.lastVolume>0&&0===o||0===this.lastVolume&&o>0)&&this.props.onMuteChange(),this.lastVolume=o,t||(this.setState({hasVolumeAnimation:!0,currentVolumePos:`${(o/1*100||0).toFixed(2)}%`}),clearTimeout(this.volumeAnimationTimer),this.volumeAnimationTimer=setTimeout(()=>{this.setState({hasVolumeAnimation:!1})},100))})}componentDidUpdate(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener(\"volumechange\",this.handleAudioVolumeChange))}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener(\"volumechange\",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}render(){const{audio:e,showFilledVolume:o,i18nVolumeControl:n}=this.props,{currentVolumePos:u,hasVolumeAnimation:i}=this.state,{volume:s}=e||{};return t.default.createElement(\"div\",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:\"progressbar\",\"aria-label\":n,\"aria-valuemin\":0,\"aria-valuemax\":100,\"aria-valuenow\":Number((100*s).toFixed(0)),tabIndex:0,className:\"rhap_volume-bar-area\"},t.default.createElement(\"div\",{className:\"rhap_volume-bar\"},t.default.createElement(\"div\",{className:\"rhap_volume-indicator\",style:{left:u,transitionDuration:i?\".1s\":\"0s\"}}),o&&t.default.createElement(\"div\",{className:\"rhap_volume-filled\",style:{width:u}})))}}var r=exports.default=s;"},"sourceMaps":null,"error":null,"hash":"ae8d8df713ca8c84c9f2ea7bd96cfb48","cacheData":{"env":{}}}